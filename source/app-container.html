<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="countdown-timer.html">
<link rel="import" href="control-panel.html">

<dom-module id="app-container">
    <template>
        <style>
            :host {
                display: flex;
                flex-direction: column;
                height: 100vh;
            }

            countdown-timer {
                flex-grow: 1;
            }
        </style>

        <countdown-timer
            duration="[[duration]]"
            running="{{running}}"></countdown-timer>
        <control-panel
            duration="{{duration}}"
            running="[[running]]"
            on-start="handleTimerStart"
            on-reset="handleTimerReset"></control-panel>
    </template>

    <script>
        class AppContainer extends Polymer.Element {
            static get is() {
                return 'app-container';
            }

            static get properties() {
                return {
                    duration: Number,
                    running: {
                        type: Boolean,
                        value: false
                    }
                };
            }

            handleTimerStart() {
                const countdownTimer = this.shadowRoot.querySelector('countdown-timer');
                countdownTimer.start();
            }

            handleTimerReset() {
                const countdownTimer = this.shadowRoot.querySelector('countdown-timer');
                countdownTimer.stop();
            }
        }

        customElements.define(AppContainer.is, AppContainer);
    </script>
</dom-module>
